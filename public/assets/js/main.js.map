{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n// CONTROLES\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst searchButton = document.getElementById('searchButton');\n\n// DATOS DE PARTIDA\nconst urlShowSearchBase = 'http://api.tvmaze.com/search/shows?'\n\n// RESULTADOS\nconst searchResultsIntro = document.getElementById('searchResultsIntro');\nconst searchResultsList = document.getElementById('searchResultsList');\nconst favList = document.getElementById('favList');\n\nlet searchResultShows = null; // constante preparada para recibir resultados\nlet favSows = null;\n\n\n// ACCIONES ****************************************************************************************\n\nfunction renderSearchResultShows (show) {\n  //LI\n  const resultCard = document.createElement('li');\n  resultCard.id = show.show.id;\n  resultCard.classList.add('main__resultsList--card')\n  searchResultsList.appendChild(resultCard);\n  //TITLE\n  const resultCardTitle = document.createElement('p');\n  resultCard.appendChild(resultCardTitle);\n  const resultCardTitleContent = document.createTextNode(show.show.name);\n  resultCardTitle.appendChild(resultCardTitleContent);\n  //IMAGE\n  const resultCardImage = document.createElement('img');\n  const imageSource = show.show.image !== null ? show.show.image.medium : 'https://via.placeholder.com/210x295?text=TV';\n  resultCardImage.src = imageSource;\n  resultCard.appendChild(resultCardImage);\n}\n\n\nfunction countResults (count, text) {\n  searchResultsIntro.innerHTML = '';\n  const searchResultsIntroContent = document.createTextNode(\n    `Te mostramos ${count} resultados que contienen \"${text}\"`\n  );\n  searchResultsIntro.appendChild(searchResultsIntroContent);\n}\n\n\nfunction showSearchByName () {\n    let query = searchInput.value;\n    fetch(`${urlShowSearchBase}q=${query}`)\n    .then(function(response) {\n      if (!response.ok) {throw response;}\n      return response.json();\n    })\n    .then(function(data) {\n      searchResultShows = data;  //******************************** <------------  OJO ! Acumulador mejor\n      countResults(searchResultShows.length, query);  // Ejecutamos el contador 1 vez\n      for (let show of searchResultShows){\n        renderSearchResultShows(show);                // Ejecutamos el renderizador en bucle, por resultado\n      }\n    })\n    .catch(error => console.log(`Ha sucedido un error: ${error}`));\n};\n\n\n\nfunction handleSearchButton (event) {\n  event.preventDefault();\n  searchResultsList.innerHTML = ''; //******************************** <------------  OJO !\n  showSearchByName();\n  searchForm.reset();\n}\n\nsearchButton.addEventListener('click', handleSearchButton);\n\n/*\n\n*/\n"]}